{"remainingRequest":"D:\\Program\\Food_Vue\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\Program\\Food_Vue\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--0-0!D:\\Program\\Food_Vue\\node_modules\\_vue-loader@15.9.1@vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\Food_Vue\\src\\views\\nutrition_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program\\Food_Vue\\src\\views\\nutrition_details.vue","mtime":1588689809786},{"path":"D:\\Program\\Food_Vue\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_vue-loader@15.9.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkQ6XFxQcm9ncmFtXFxGb29kX1Z1ZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHNlcnZlclVybCB9IGZyb20gIi4uL2NvbmZpZy50cyI7IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5byV5YWlIEVDaGFydHMg5Li75qih5Z2XCgp2YXIgZWNoYXJ0cyA9IHJlcXVpcmUoImVjaGFydHMvbGliL2VjaGFydHMiKTsgLy8g5byV5YWl5p+x54q25Zu+CgoKcmVxdWlyZSgiZWNoYXJ0cy9saWIvY2hhcnQvYmFyIik7IC8vIOW8leWFpeaPkOekuuahhuWSjOagh+mimOe7hOS7tgoKCnJlcXVpcmUoImVjaGFydHMvbGliL2NvbXBvbmVudC90b29sdGlwIik7CgpyZXF1aXJlKCJlY2hhcnRzL2xpYi9jb21wb25lbnQvdGl0bGUiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZHJhd0xpbmUodGhpcy4kcm91dGUucXVlcnkuZm9vZF9udXRyaXRpb24pOwogIH0sCiAgbWV0aG9kczogewogICAgZHJhd0xpbmU6IGZ1bmN0aW9uIGRyYXdMaW5lKHF1ZXJ5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LCiAgICAgIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJteUNoYXJ0IikpOwogICAgICB0aGlzLmF4aW9zLmdldChzZXJ2ZXJVcmwgKyAiL2FwaS9mb29kL251dHJpdGlvbl9kZXRhaWxzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgZm9vZF9udXRyaXRpb246IHF1ZXJ5CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgYXJyID0gcmVzLmRhdGEuZGF0YVswXTsKICAgICAgICB2YXIgbmFtZSA9IFtdOwogICAgICAgIHZhciBudXRyaXRpb24gPSBbXTsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFyciksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgbmFtZS5wdXNoKGl0ZW1bImZvb2RfbmFtZSJdKTsKICAgICAgICAgICAgbnV0cml0aW9uLnB1c2goaXRlbVsiZm9vZF9udXRyaXRpb24iXSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZm9vZF9uYW1lID0gbmFtZTsKICAgICAgICBfdGhpcy5mb29kX251dHJpdGlvbiA9IG51dHJpdGlvbjsgLy8g57uY5Yi25Zu+6KGoCgogICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIHRleHQ6IHF1ZXJ5ICsgIuWQq+mHjyBUb3AgMTAg55qE6aOf54mpIgogICAgICAgICAgfSwKICAgICAgICAgIHRvb2x0aXA6IHt9LAogICAgICAgICAgeEF4aXM6IHsKICAgICAgICAgICAgZGF0YTogX3RoaXMuZm9vZF9uYW1lLAogICAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgICByb3RhdGU6IC0yNSAvL+WAvuaWnDMw5bqmCgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgeUF4aXM6IHt9LAogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgdHlwZTogImJhciIsCiAgICAgICAgICAgIGRhdGE6IF90aGlzLmZvb2RfbnV0cml0aW9uLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgIC8v5byA5ZCv5pi+56S6CiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wIiwKICAgICAgICAgICAgICAgICAgLy/lnKjkuIrmlrnmmL7npLoKICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgLy/mlbDlgLzmoLflvI8KICAgICAgICAgICAgICAgICAgICBjb2xvcjogImJsYWNrIiwKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvbG9yOiBmdW5jdGlvbiBjb2xvcihwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgLy/ms6jmhI/vvIzlpoLmnpzpopzoibLlpKrlsJHnmoTor53vvIzlkI7pnaLpopzoibLkuI3kvJroh6rliqjlvqrnjq/vvIzmnIDlpb3lpJrlrprkuYnlh6DkuKrpopzoibIKICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yTGlzdCA9IFsiI2MyMzUzMSIsICIjMmY0NTU0IiwgIiM2MWEwYTgiLCAiI2Q0ODI2NSIsICIjOTFjN2FlIiwgIiM3NDlmODMiLCAiI2NhODYyMiJdOwogICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7IC8v57uZ5aSn5LqO6aKc6Imy5pWw6YeP55qE5p+x5L2T5re75Yqg5b6q546v6aKc6Imy55qE5Yik5patCgogICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmRhdGFJbmRleCA+PSBjb2xvckxpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwYXJhbXMuZGF0YUluZGV4IC0gY29sb3JMaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JMaXN0W2luZGV4XTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTGlzdFtwYXJhbXMuZGF0YUluZGV4XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["nutrition_details.vue"],"names":[],"mappings":";;;;;;;;AAQA,SAAA,SAAA,QAAA,cAAA,C,CACA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,qBAAA,CAAA,C,CACA;;;AACA,OAAA,CAAA,uBAAA,CAAA,C,CACA;;;AACA,OAAA,CAAA,+BAAA,CAAA;;AACA,OAAA,CAAA,6BAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA,EAAA;AACA,GAHA;AAIA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,QAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,cAAA;AACA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AAAA;;AACA;AACA,UAAA,OAAA,GAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CAAA,cAAA,CAAA,SAAA,CAAA,CAAA;AACA,WAAA,KAAA,CACA,GADA,CACA,SAAA,GAAA,6BADA,EACA;AACA,QAAA,MAAA,EAAA;AAAA,UAAA,cAAA,EAAA;AAAA;AADA,OADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,IAAA,GAAA,EAAA;AACA,YAAA,SAAA,GAAA,EAAA;;AAHA,mDAIA,GAJA;AAAA;;AAAA;AAIA,8DAAA;AAAA,gBAAA,IAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,WAAA,CAAA;AACA,YAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,gBAAA,CAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;;AAQA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,SAAA,CATA,CAUA;;AACA,QAAA,OAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,EAAA;AAAA,YAAA,IAAA,EAAA,KAAA,GAAA;AAAA,WADA;AAEA,UAAA,OAAA,EAAA,EAFA;AAGA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA,KAAA,CAAA,SADA;AAEA,YAAA,SAAA,EAAA;AACA,cAAA,MAAA,EAAA,CAAA,EADA,CACA;;AADA;AAFA,WAHA;AASA,UAAA,KAAA,EAAA,EATA;AAUA,UAAA,MAAA,EAAA,CACA;AACA,YAAA,IAAA,EAAA,EADA;AAEA,YAAA,IAAA,EAAA,KAFA;AAGA,YAAA,IAAA,EAAA,KAAA,CAAA,cAHA;AAIA,YAAA,SAAA,EAAA;AACA,cAAA,MAAA,EAAA;AACA,gBAAA,KAAA,EAAA;AACA,kBAAA,IAAA,EAAA,IADA;AACA;AACA,kBAAA,QAAA,EAAA,KAFA;AAEA;AACA,kBAAA,SAAA,EAAA;AACA;AACA,oBAAA,KAAA,EAAA,OAFA;AAGA,oBAAA,QAAA,EAAA;AAHA;AAHA,iBADA;AAUA,gBAAA,KAAA,EAAA,eAAA,MAAA,EAAA;AACA;AACA,sBAAA,SAAA,GAAA,CACA,SADA,EAEA,SAFA,EAGA,SAHA,EAIA,SAJA,EAKA,SALA,EAMA,SANA,EAOA,SAPA,CAAA;AASA,sBAAA,KAAA,CAXA,CAYA;;AACA,sBAAA,MAAA,CAAA,SAAA,IAAA,SAAA,CAAA,MAAA,EAAA;AACA,oBAAA,KAAA,GAAA,MAAA,CAAA,SAAA,GAAA,SAAA,CAAA,MAAA;AACA,2BAAA,SAAA,CAAA,KAAA,CAAA;AACA;;AACA,yBAAA,SAAA,CAAA,MAAA,CAAA,SAAA,CAAA;AACA;AA5BA;AADA;AAJA,WADA;AAVA,SAAA;AAkDA,OAjEA;AAkEA;AAtEA;AAPA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!--        <h1>{{$route.query.food_nutrition}}</h1>-->\r\n    <div id=\"myChart\" style=\"width: 1100px;height:500px;\" class=\"haha\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { serverUrl } from \"../config.ts\";\r\n// -----------------------------------------------引入 ECharts 主模块\r\nvar echarts = require(\"echarts/lib/echarts\");\r\n// 引入柱状图\r\nrequire(\"echarts/lib/chart/bar\");\r\n// 引入提示框和标题组件\r\nrequire(\"echarts/lib/component/tooltip\");\r\nrequire(\"echarts/lib/component/title\");\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted: function() {\r\n    this.drawLine(this.$route.query.food_nutrition);\r\n  },\r\n  methods: {\r\n    drawLine(query) {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = echarts.init(document.getElementById(\"myChart\"));\r\n      this.axios\r\n        .get(serverUrl + \"/api/food/nutrition_details\", {\r\n          params: { food_nutrition: query }\r\n        })\r\n        .then(res => {\r\n          let arr = res.data.data[0];\r\n          var name = [];\r\n          var nutrition = [];\r\n          for (let item of arr) {\r\n            name.push(item[\"food_name\"]);\r\n            nutrition.push(item[\"food_nutrition\"]);\r\n          }\r\n          this.food_name = name;\r\n          this.food_nutrition = nutrition;\r\n          // 绘制图表\r\n          myChart.setOption({\r\n            title: { text: query + \"含量 Top 10 的食物\" },\r\n            tooltip: {},\r\n            xAxis: {\r\n              data: this.food_name,\r\n              axisLabel: {\r\n                rotate: -25 //倾斜30度\r\n              }\r\n            },\r\n            yAxis: {},\r\n            series: [\r\n              {\r\n                name: \"\",\r\n                type: \"bar\",\r\n                data: this.food_nutrition,\r\n                itemStyle: {\r\n                  normal: {\r\n                    label: {\r\n                      show: true, //开启显示\r\n                      position: \"top\", //在上方显示\r\n                      textStyle: {\r\n                        //数值样式\r\n                        color: \"black\",\r\n                        fontSize: 16\r\n                      }\r\n                    },\r\n                    color: function(params) {\r\n                      //注意，如果颜色太少的话，后面颜色不会自动循环，最好多定义几个颜色\r\n                      var colorList = [\r\n                        \"#c23531\",\r\n                        \"#2f4554\",\r\n                        \"#61a0a8\",\r\n                        \"#d48265\",\r\n                        \"#91c7ae\",\r\n                        \"#749f83\",\r\n                        \"#ca8622\"\r\n                      ];\r\n                      var index;\r\n                      //给大于颜色数量的柱体添加循环颜色的判断\r\n                      if (params.dataIndex >= colorList.length) {\r\n                        index = params.dataIndex - colorList.length;\r\n                        return colorList[index];\r\n                      }\r\n                      return colorList[params.dataIndex];\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.haha {\r\n  display: inline-block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  background-color: #ffffff;\r\n  margin-top: 110px;\r\n  line-height: 45px;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}