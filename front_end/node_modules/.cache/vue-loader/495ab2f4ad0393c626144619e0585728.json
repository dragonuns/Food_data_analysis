{"remainingRequest":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\src\\views\\nutrition_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\src\\views\\nutrition_details.vue","mtime":1589695191968},{"path":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Graduation_project\\38\\Food_data_analysis\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBzZXJ2ZXJVcmwgfSBmcm9tICIuLi9jb25maWcudHMiOw0KLy/lvJXlhaUgRUNoYXJ0cyDkuLvmqKHlnZcNCnZhciBlY2hhcnRzID0gcmVxdWlyZSgiZWNoYXJ0cy9saWIvZWNoYXJ0cyIpOw0KLy/lvJXlhaXmn7Hnirblm74NCnJlcXVpcmUoImVjaGFydHMvbGliL2NoYXJ0L2JhciIpOw0KLy/lvJXlhaXmj5DnpLrmoYblkozmoIfpopjnu4Tku7YNCnJlcXVpcmUoImVjaGFydHMvbGliL2NvbXBvbmVudC90b29sdGlwIik7DQpyZXF1aXJlKCJlY2hhcnRzL2xpYi9jb21wb25lbnQvdGl0bGUiKTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7fTsNCiAgfSwNCiAgbW91bnRlZDogZnVuY3Rpb24oKSB7DQogICAgdGhpcy5kcmF3TGluZSh0aGlzLiRyb3V0ZS5xdWVyeS5mb29kX251dHJpdGlvbik7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBkcmF3TGluZShxdWVyeSkgew0KICAgICAgLy/liJ3lp4vljJYgRUNoYXJ0cyDlrp7kvosNCiAgICAgIGxldCBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJteUNoYXJ0IikpOw0KICAgICAgdGhpcy5heGlvcw0KICAgICAgICAuZ2V0KHNlcnZlclVybCArICIvYXBpL2Zvb2QvbnV0cml0aW9uX2RldGFpbHMiLCB7DQogICAgICAgICAgcGFyYW1zOiB7IGZvb2RfbnV0cml0aW9uOiBxdWVyeSB9DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgbGV0IGFyciA9IHJlcy5kYXRhLmRhdGFbMF07DQogICAgICAgICAgdmFyIG5hbWUgPSBbXTsNCiAgICAgICAgICB2YXIgbnV0cml0aW9uID0gW107DQogICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBhcnIpIHsNCiAgICAgICAgICAgIG5hbWUucHVzaChpdGVtWyJmb29kX25hbWUiXSk7DQogICAgICAgICAgICBudXRyaXRpb24ucHVzaChpdGVtWyJmb29kX251dHJpdGlvbiJdKTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5mb29kX25hbWUgPSBuYW1lOw0KICAgICAgICAgIHRoaXMuZm9vZF9udXRyaXRpb24gPSBudXRyaXRpb247DQogICAgICAgICAgLy8g57uY5Yi25Zu+6KGoDQogICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24oew0KICAgICAgICAgICAgdGl0bGU6IHsgdGV4dDogcXVlcnkgKyAi5ZCr6YePIFRvcCAxMCDnmoTpo5/niakiIH0sDQogICAgICAgICAgICB0b29sdGlwOiB7fSwNCiAgICAgICAgICAgIHhBeGlzOiB7DQogICAgICAgICAgICAgIGRhdGE6IHRoaXMuZm9vZF9uYW1lLA0KICAgICAgICAgICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgICAgICAgICByb3RhdGU6IC0yNSAvL+inkuW6puWAvuaWnA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeUF4aXM6IHt9LA0KICAgICAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwNCiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmZvb2RfbnV0cml0aW9uLA0KICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwgLy/lvIDlkK/mmL7npLoNCiAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcCIsIC8v5Zyo5LiK5pa55pi+56S6DQogICAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+aVsOWAvOagt+W8jw0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJibGFjayIsDQogICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBmdW5jdGlvbihwYXJhbXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JMaXN0ID0gWw0KICAgICAgICAgICAgICAgICAgICAgICAgIiNjMjM1MzEiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiMyZjQ1NTQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiM2MWEwYTgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiNkNDgyNjUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiM5MWM3YWUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiM3NDlmODMiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIiNjYTg2MjIiDQogICAgICAgICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg7DQogICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5kYXRhSW5kZXggPj0gY29sb3JMaXN0Lmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBwYXJhbXMuZGF0YUluZGV4IC0gY29sb3JMaXN0Lmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvckxpc3RbaW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JMaXN0W3BhcmFtcy5kYXRhSW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["nutrition_details.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nutrition_details.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"myChart\" style=\"width: 1100px;height:500px;\" class=\"haha\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { serverUrl } from \"../config.ts\";\r\n//引入 ECharts 主模块\r\nvar echarts = require(\"echarts/lib/echarts\");\r\n//引入柱状图\r\nrequire(\"echarts/lib/chart/bar\");\r\n//引入提示框和标题组件\r\nrequire(\"echarts/lib/component/tooltip\");\r\nrequire(\"echarts/lib/component/title\");\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted: function() {\r\n    this.drawLine(this.$route.query.food_nutrition);\r\n  },\r\n  methods: {\r\n    drawLine(query) {\r\n      //初始化 ECharts 实例\r\n      let myChart = echarts.init(document.getElementById(\"myChart\"));\r\n      this.axios\r\n        .get(serverUrl + \"/api/food/nutrition_details\", {\r\n          params: { food_nutrition: query }\r\n        })\r\n        .then(res => {\r\n          let arr = res.data.data[0];\r\n          var name = [];\r\n          var nutrition = [];\r\n          for (let item of arr) {\r\n            name.push(item[\"food_name\"]);\r\n            nutrition.push(item[\"food_nutrition\"]);\r\n          }\r\n          this.food_name = name;\r\n          this.food_nutrition = nutrition;\r\n          // 绘制图表\r\n          myChart.setOption({\r\n            title: { text: query + \"含量 Top 10 的食物\" },\r\n            tooltip: {},\r\n            xAxis: {\r\n              data: this.food_name,\r\n              axisLabel: {\r\n                rotate: -25 //角度倾斜\r\n              }\r\n            },\r\n            yAxis: {},\r\n            series: [\r\n              {\r\n                name: \"\",\r\n                type: \"bar\",\r\n                data: this.food_nutrition,\r\n                itemStyle: {\r\n                  normal: {\r\n                    label: {\r\n                      show: true, //开启显示\r\n                      position: \"top\", //在上方显示\r\n                      textStyle: {\r\n                        //数值样式\r\n                        color: \"black\",\r\n                        fontSize: 16\r\n                      }\r\n                    },\r\n                    color: function(params) {\r\n                      var colorList = [\r\n                        \"#c23531\",\r\n                        \"#2f4554\",\r\n                        \"#61a0a8\",\r\n                        \"#d48265\",\r\n                        \"#91c7ae\",\r\n                        \"#749f83\",\r\n                        \"#ca8622\"\r\n                      ];\r\n                      var index;\r\n                      if (params.dataIndex >= colorList.length) {\r\n                        index = params.dataIndex - colorList.length;\r\n                        return colorList[index];\r\n                      }\r\n                      return colorList[params.dataIndex];\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.haha {\r\n  display: inline-block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  background-color: #ffffff;\r\n  margin-top: 110px;\r\n  line-height: 45px;\r\n}\r\n</style>"]}]}