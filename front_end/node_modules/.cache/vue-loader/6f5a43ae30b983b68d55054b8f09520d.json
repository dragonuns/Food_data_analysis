{"remainingRequest":"D:\\Program\\Food_Vue\\node_modules\\_vue-loader@15.9.1@vue-loader\\lib\\index.js??vue-loader-options!D:\\Program\\Food_Vue\\src\\views\\nutrition_details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Program\\Food_Vue\\src\\views\\nutrition_details.vue","mtime":1588689809786},{"path":"D:\\Program\\Food_Vue\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Program\\Food_Vue\\node_modules\\_vue-loader@15.9.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBzZXJ2ZXJVcmwgfSBmcm9tICIuLi9jb25maWcudHMiOw0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3lvJXlhaUgRUNoYXJ0cyDkuLvmqKHlnZcNCnZhciBlY2hhcnRzID0gcmVxdWlyZSgiZWNoYXJ0cy9saWIvZWNoYXJ0cyIpOw0KLy8g5byV5YWl5p+x54q25Zu+DQpyZXF1aXJlKCJlY2hhcnRzL2xpYi9jaGFydC9iYXIiKTsNCi8vIOW8leWFpeaPkOekuuahhuWSjOagh+mimOe7hOS7tg0KcmVxdWlyZSgiZWNoYXJ0cy9saWIvY29tcG9uZW50L3Rvb2x0aXAiKTsNCnJlcXVpcmUoImVjaGFydHMvbGliL2NvbXBvbmVudC90aXRsZSIpOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHt9Ow0KICB9LA0KICBtb3VudGVkOiBmdW5jdGlvbigpIHsNCiAgICB0aGlzLmRyYXdMaW5lKHRoaXMuJHJvdXRlLnF1ZXJ5LmZvb2RfbnV0cml0aW9uKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGRyYXdMaW5lKHF1ZXJ5KSB7DQogICAgICAvLyDln7rkuo7lh4blpIflpb3nmoRkb23vvIzliJ3lp4vljJZlY2hhcnRz5a6e5L6LDQogICAgICBsZXQgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXlDaGFydCIpKTsNCiAgICAgIHRoaXMuYXhpb3MNCiAgICAgICAgLmdldChzZXJ2ZXJVcmwgKyAiL2FwaS9mb29kL251dHJpdGlvbl9kZXRhaWxzIiwgew0KICAgICAgICAgIHBhcmFtczogeyBmb29kX251dHJpdGlvbjogcXVlcnkgfQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBhcnIgPSByZXMuZGF0YS5kYXRhWzBdOw0KICAgICAgICAgIHZhciBuYW1lID0gW107DQogICAgICAgICAgdmFyIG51dHJpdGlvbiA9IFtdOw0KICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgYXJyKSB7DQogICAgICAgICAgICBuYW1lLnB1c2goaXRlbVsiZm9vZF9uYW1lIl0pOw0KICAgICAgICAgICAgbnV0cml0aW9uLnB1c2goaXRlbVsiZm9vZF9udXRyaXRpb24iXSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZm9vZF9uYW1lID0gbmFtZTsNCiAgICAgICAgICB0aGlzLmZvb2RfbnV0cml0aW9uID0gbnV0cml0aW9uOw0KICAgICAgICAgIC8vIOe7mOWItuWbvuihqA0KICAgICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKHsNCiAgICAgICAgICAgIHRpdGxlOiB7IHRleHQ6IHF1ZXJ5ICsgIuWQq+mHjyBUb3AgMTAg55qE6aOf54mpIiB9LA0KICAgICAgICAgICAgdG9vbHRpcDoge30sDQogICAgICAgICAgICB4QXhpczogew0KICAgICAgICAgICAgICBkYXRhOiB0aGlzLmZvb2RfbmFtZSwNCiAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7DQogICAgICAgICAgICAgICAgcm90YXRlOiAtMjUgLy/lgL7mlpwzMOW6pg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgeUF4aXM6IHt9LA0KICAgICAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwNCiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmZvb2RfbnV0cml0aW9uLA0KICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwgLy/lvIDlkK/mmL7npLoNCiAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcCIsIC8v5Zyo5LiK5pa55pi+56S6DQogICAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+aVsOWAvOagt+W8jw0KICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJibGFjayIsDQogICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBmdW5jdGlvbihwYXJhbXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAvL+azqOaEj++8jOWmguaenOminOiJsuWkquWwkeeahOivne+8jOWQjumdouminOiJsuS4jeS8muiHquWKqOW+queOr++8jOacgOWlveWkmuWumuS5ieWHoOS4quminOiJsg0KICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvckxpc3QgPSBbDQogICAgICAgICAgICAgICAgICAgICAgICAiI2MyMzUzMSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiIzJmNDU1NCIsDQogICAgICAgICAgICAgICAgICAgICAgICAiIzYxYTBhOCIsDQogICAgICAgICAgICAgICAgICAgICAgICAiI2Q0ODI2NSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiIzkxYzdhZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAiIzc0OWY4MyIsDQogICAgICAgICAgICAgICAgICAgICAgICAiI2NhODYyMiINCiAgICAgICAgICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleDsNCiAgICAgICAgICAgICAgICAgICAgICAvL+e7meWkp+S6juminOiJsuaVsOmHj+eahOafseS9k+a3u+WKoOW+queOr+minOiJsueahOWIpOaWrQ0KICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuZGF0YUluZGV4ID49IGNvbG9yTGlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gcGFyYW1zLmRhdGFJbmRleCAtIGNvbG9yTGlzdC5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JMaXN0W2luZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTGlzdFtwYXJhbXMuZGF0YUluZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["nutrition_details.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nutrition_details.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <!--        <h1>{{$route.query.food_nutrition}}</h1>-->\r\n    <div id=\"myChart\" style=\"width: 1100px;height:500px;\" class=\"haha\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { serverUrl } from \"../config.ts\";\r\n// -----------------------------------------------引入 ECharts 主模块\r\nvar echarts = require(\"echarts/lib/echarts\");\r\n// 引入柱状图\r\nrequire(\"echarts/lib/chart/bar\");\r\n// 引入提示框和标题组件\r\nrequire(\"echarts/lib/component/tooltip\");\r\nrequire(\"echarts/lib/component/title\");\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted: function() {\r\n    this.drawLine(this.$route.query.food_nutrition);\r\n  },\r\n  methods: {\r\n    drawLine(query) {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      let myChart = echarts.init(document.getElementById(\"myChart\"));\r\n      this.axios\r\n        .get(serverUrl + \"/api/food/nutrition_details\", {\r\n          params: { food_nutrition: query }\r\n        })\r\n        .then(res => {\r\n          let arr = res.data.data[0];\r\n          var name = [];\r\n          var nutrition = [];\r\n          for (let item of arr) {\r\n            name.push(item[\"food_name\"]);\r\n            nutrition.push(item[\"food_nutrition\"]);\r\n          }\r\n          this.food_name = name;\r\n          this.food_nutrition = nutrition;\r\n          // 绘制图表\r\n          myChart.setOption({\r\n            title: { text: query + \"含量 Top 10 的食物\" },\r\n            tooltip: {},\r\n            xAxis: {\r\n              data: this.food_name,\r\n              axisLabel: {\r\n                rotate: -25 //倾斜30度\r\n              }\r\n            },\r\n            yAxis: {},\r\n            series: [\r\n              {\r\n                name: \"\",\r\n                type: \"bar\",\r\n                data: this.food_nutrition,\r\n                itemStyle: {\r\n                  normal: {\r\n                    label: {\r\n                      show: true, //开启显示\r\n                      position: \"top\", //在上方显示\r\n                      textStyle: {\r\n                        //数值样式\r\n                        color: \"black\",\r\n                        fontSize: 16\r\n                      }\r\n                    },\r\n                    color: function(params) {\r\n                      //注意，如果颜色太少的话，后面颜色不会自动循环，最好多定义几个颜色\r\n                      var colorList = [\r\n                        \"#c23531\",\r\n                        \"#2f4554\",\r\n                        \"#61a0a8\",\r\n                        \"#d48265\",\r\n                        \"#91c7ae\",\r\n                        \"#749f83\",\r\n                        \"#ca8622\"\r\n                      ];\r\n                      var index;\r\n                      //给大于颜色数量的柱体添加循环颜色的判断\r\n                      if (params.dataIndex >= colorList.length) {\r\n                        index = params.dataIndex - colorList.length;\r\n                        return colorList[index];\r\n                      }\r\n                      return colorList[params.dataIndex];\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.haha {\r\n  display: inline-block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  background-color: #ffffff;\r\n  margin-top: 110px;\r\n  line-height: 45px;\r\n}\r\n</style>"]}]}